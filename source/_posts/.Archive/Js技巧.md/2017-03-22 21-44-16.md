---
title: Js技巧
categories: javascript
---


# 导航菜单div的切换
## 原理
> 通过点击事件将div属性由`display:none;`变为`display:block`

## 样式布局如下:

``` html
<el-row>
	<el-col :span="4">
		<el-menu default-active="1">
			<a href="#question">
				<el-menu-item index="1" style="padding-left:100px ;">
					提问
				</el-menu-item>
			</a>
			<a href="#add">
				<el-menu-item index="2" style="padding-left:100px ;">
					添加
				</el-menu-item>
			</a>
			<a href="#answer">
				<el-menu-item index="3" style="padding-left:100px ;">
					答案
				</el-menu-item>
			</a>
			<a href="#query">
				<el-menu-item index="4" style="padding-left:100px ;">
					查询
				</el-menu-item>
			</a>
		</el-menu>
	</el-col>
	<el-col :span="20">
		<div>
			<div class="checkOutDiv" style="display: block;" id="answer">
				<h1>index-1</h1>
			</div>
			<div class="checkOutDiv" style="display: none;" id="answer">
				<h1>index-2</h1>
			</div>
			<div class="checkOutDiv" style="display: none;" id="answer">
				<h1>index-3</h1>
			</div>
			<div class="checkOutDiv" style="display: none;" id="query">
				<h1>index-4</h1>
			</div>
		</div>
	</el-col>
</el-row>
```
## js代码逻辑
``` js
$(function() {
    //给每个a标签添加click事件
	$("a").bind("click", function() {
    	//拿到a标签中 href属性的值
		var $clickElement = $(this).attr("href");
		//遍历所有div
		$.each($(".checkOutDiv"), function() {
    		//获得div中id属性的值
			var $checkOut = $(this).attr("id");
			if($clickElement.indexOf($checkOut) != -1) {     //如果a标签的href属性包含div标签的id的值(不包含返回-1)，则显示
				$(this).attr("style", "display: block;");
			} else {
				$(this).attr("style", "display: none;");
			}
		})
	})
})
```
> 详细过程如上，举个例子:<font color='#7DD43C'>点击`<a href="#question">`时,拿到href的值，即#question，此时查询所有div的id，若id=question时，发现#question包含question，则改变div属性dispalay:block</font>

# js实现表单提交和重置
> 代码如下:

``` js
//重置
document.getElementById(formName).reset();
//提交
document.getElementById(formName).submit();
```

# js正则表达式替换
> 博主这里要把图片对应的url换一下

``` html
<img src="img/1_1.jpg"/>
<img src="img/2_1.jpg"/>
```
> js的replace可以使用正则替换,将_1替换成_2，默认会全文搜索

``` js
$.each($("img"), function() {
			$(this).bind("mousemove",function(){
				var $src = $(this).attr("src");
				var changeSrc = $src.replace(/_\d/,"_2");
				$("#showArea").html("<img src="+changeSrc+" style='width:200px;height:300px' id='imgEnlarge' />")
			})
		});
```

# 判断元素内是否有内容或者有某个标签
## 判断文本是否为空
``` js
var jqObj = $(this);
if(jqObj.text().trim()){ //trim()方法是去空格，$.trim()函数删除提供字符串的所有换行符,空格（包括非中断空格），开始和结束tab。如果这些空白字符在字符串中间发生时，它们将被保留。
    jqObj.hide();
}
```
## 判断这个标签下是否有某个已知的元素，比如判断ul标签下是否有li元素
``` js
var jqObj = $(this);
if(!jqObj.has('li').length){
    jqObj.hide();
}
```
> []()感谢这位作者解决了我的困惑，真诚的感谢，哈哈!