---
title: Python的with 语句
categories: Python
---

# 前言
**with 语句是被设计用来简化“try / finally”语句的。**通常的用处在于共享资源的获取和释放，比如文件、数据库和线程资源。它的用法如下：
``` py
with context_exp [as var]:
    with_suit
```

# with 语句解释
with 语句也是复合语句的一种，就像 if、try 一样，它的后面也有个“：”，并且紧跟一个缩进的代码块 `with_suit`。 `context_exp` 表达式的作用是提供一个上下文管理器（Context Manager），整个 with_suit 代码块都是在这个上下文管理器的运行环境下执行的。**context_exp 可以直接是一个上下文管理器的引用，也可以是一句可执行的表达式，with 语句会自动执行这个表达式以获得上下文管理对象。**with 语句的实际执行流程是这样的：