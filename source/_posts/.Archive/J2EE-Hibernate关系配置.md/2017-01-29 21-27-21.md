---
title: J2EE-Hibernate关系配置
---
# cascade 、inverse详解
> cascade有以下四种值：
    - `all`: 所有情况下均进行关联操作。
    - `none`: 所有情况下均不进行关联操作。这是默认值。
    - `save-update`: 在执行save/update/saveOrUpdate时进行关联操作。
    - `delete`: 在执行delete时进行关联操作。

> inverse
    `![](J2EE-Hibernate关系配置/inverse.png)
> 详情请点：[cascade 、inverse详解 ](http://blog.sina.com.cn/s/blog_7ffb8dd50101450c.html)


# 一对多（多对一）
"一对多"是最普遍的映射关系，简单来讲就如消费者与订单的关系。
一对多：从消费者角的度来说一个消费者可以有多个订单，即为一对多。
多对一：从订单的角度来说多个订单可以对应一个消费者，即为多对一
``` java
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
    <hibernate-mapping>
        <class name="com.suxiaolei.hibernate.pojos.Customer" table="customer">
            <!-- 主键设置 -->
            <id name="id" type="string">
                <column name="id"></column>
                <generator class="uuid"></generator>
            </id>
            <!-- 属性设置 -->
            <property name="username" column="username" type="string"></property>
            <property name="balance" column="balance" type="integer"></property>
            
            <set name="orders" inverse="true" cascade="all">
                <key column="customer_id" ></key>
                <one-to-many class="com.suxiaolei.hibernate.pojos.Order"/>
            </set>
        </class>
    </hibernate-mapping>
```
订单（多方）：
``` java
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
    <hibernate-mapping>
        <class name="com.suxiaolei.hibernate.pojos.Order" table="orders">
            <id name="id" type="string">
                <column name="id"></column>
                <generator class="uuid"></generator>
            </id>
            
            <property name="orderNumber" column="orderNumber" type="string"></property>
            <property name="cost" column="cost" type="integer"></property>
            
            <many-to-one name="customer" class="com.suxiaolei.hibernate.pojos.Customer" 
                         column="customer_id" cascade="save-update">
            </many-to-one>        
        </class>
    </hibernate-mapping>
```
