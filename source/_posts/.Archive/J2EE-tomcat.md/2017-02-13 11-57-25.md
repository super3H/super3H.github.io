---
title: tomcat的部署
categories: J2EE
---

# 静态部署
- 直接将`web`项目文件件拷贝到`webapps` 目录中
    1.  `Tomcat`的`Webapps`目录是Tomcat默认的应用目录，当服务器启动时，会加载所有这个目录下的应用。** 所以可以将`JSP`程序打包成一个 `war`包放在目录下，服务器会自动解开这个war包，并在这个目录下生成一个同名的文件夹。**
    2. `说明:` 一个`war`包就是有特性格式的jar包，它是将一个web程序的所有内容进行压缩得到。
    3. `方式:`可以使用许多开发工具的`IDE`环境，如`Eclipse`等。也可以用 `cmd` 命令：`jar -cvf mywar.war  myweb `
    4.  `webapps`这个默认的应用目录也是可以改变。打开`Tomcat`的`conf`目录下的`server.xml`文件，找到下面内容：
``` xml
    <Host name="localhost" appBase="webapps"
       unpackWARs="true" autoDeploy="true"
       xmlValidation="false" xmlNamespaceAware="false">
       <!-- 将appBase修改即可-->
```
- 在`server.xml`中指定:
- 在Tomcat的配置文件中，一个Web应用就是一个特定的Context，可以通过在server.xml中新建Context里部署一个JSP应用程序。打开server.xml文件，在Host标签内建一个Context，内容如下。
在tomcat中的conf目录中，在server.xml中的，<host/>节点中添加： 
<Context path="/hello" docBase="D:\ workspace\hello\WebRoot" debug="0" privileged="true"> 
</Context>
或者
<Context path="/myapp" reloadable="true" docBase="D:\myapp" workDir="D:\myapp\work"/>
或者
<Context path="/sms4" docBase="D:\workspace\sms4\WebRoot"/>
说明：
path是虚拟路径；
docBase 是应用程序的物理路径；
workDir 是这个应用的工作目录，存放运行时生成的与这个应用相关的文件；
 
debug 则是设定debug level,  0表示提供最少的信息，9表示提供最多的信息
privileged设置为true的时候，才允许Tomcat的Web应用使用容器内的Servlet
reloadable 如果为true，则tomcat会自动检测应用程序的/WEB-INF/lib 和/WEB-INF/classes目录的变化，自动装载新的应用程序，可以在不重起tomcat的情况下改变应用程序，实现热部署
antiResourceLocking和antiJARLocking  热部署是需要配置的参数，默认false避免更新了某个webapp，有时候Tomcat并不能把旧的webapp完全删除，通常会留下WEB-INF/lib下的某个jar包，必须关闭Tomcat才能删除，这就导致自动部署失败。设置为true，Tomcat在运行对应的webapp时，会把相应的源文件和jar文件复制到一个临时目录里。