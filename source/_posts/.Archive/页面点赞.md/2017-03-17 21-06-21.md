---
title: 页面点赞
categories: 前端
---
# 页面点赞
## css样式
``` css
.zan,
			.zan1 {
				width: 60px;
				height: 60px;
				position: relative;
				float: right;
				padding-left: 40px;
				margin-top: 10px;
				/* relative(相对定位) 对象不可层叠、不脱离文档流，参考自身静态位置通过 top,bottom,left,right 定位，并且可以通过z-index进行层次分级 */
			}
			/* after 伪元素在元素之前添加内容*/
			
			.zan:before,
			.zan1:before {
				content: " ";
				border-radius: 30px 30px 0 0;
				/* 正方形的内切圆的半径等于正方形边长的一半 */
				width: 20px;
				height: 30px;
				/* 长方形 */
				background: gray;
				-moz-transform: rotate(-48deg);
				/* 逆时针旋转45°*/
				-ms-transform: rotate(-48deg);
				-o-transform: rotate(-48deg);
				-webkit-transform: rotate(-48deg);
				position: absolute;
				/* absolute(绝对定位) 脱离文档流，通过 top,bottom,left,right 定位 */
				left: 20px;
			}
			/* after 伪元素在元素之后添加内容*/
			
			.zan:after,
			.zan1:after {
				content: " ";
				width: 20px;
				height: 30px;
				background: gray;
				border-radius: 30px 30px 0 0;
				-moz-transform: rotate(48deg);
				-ms-transform: rotate(48deg);
				-o-transform: rotate(48deg);
				-webkit-transform: rotate(48deg);
				position: absolute;
				left: 28px;
				top: 0px;
			}
			
			.zan1:before,
			.zan1:after {
				background: #4C9ED9;
			}
```

## html代码
``` html
<div class="zan" style="cursor: pointer;"></div>
```

## js代码
``` js
$(".zan").click(function() { 
			$(this).toggleClass("zan1");
			alert($(">input",this).val());
			var classname=$(this).attr("class");
			var zan_num=parseInt($('>span',this).text());
			if(classname == "zan zan1"){
				zan_num +=1;
				$('>span',this).text(zan_num);
			}else if(classname== "zan"){
				zan_num -=1;
				$('>span',this).text(zan_num);
			}
		})
```
> 将其简单改一下即可与后台同步

``` js
$(function(){
			$(".zan").click(function() {
				$(this).toggleClass("zan1");
				var classname=$(this).attr("class");
				var zan_num=parseInt($('>span',this).text());
				var anid = $(">input",this).val();
				if(classname == "zan zan1"){
					zan_num +=1;
					$('>span',this).text(zan_num);
					$.post("queryAction_agree",{
						anid: anid,
						agreeNumber: zan_num
					});
				}else if(classname== "zan"){
					zan_num -=1;
					$('>span',this).text(zan_num);
					$.post("queryAction_disagree",{
						anid: anid,
						agreeNumber: zan_num
					})
				}
			})
		})
```
