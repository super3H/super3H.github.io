---
title: SpringMVC 注解
categories: SpringMVC
---

# 前言
初学SpringMVC，发现有些注解功能有些类似，都为获取前台数据，这里主要讲这些注解的分别！

# SpringMVC 注解
## @PathVariable
**用来映射RESTful风格的url**，例如`@RequestMapping(/getCourse/{id})`，获取id则可以通过这个`@PathVariable("id") Integer courseId`来拿到.

## @RequestParam
**既处理get 方式中queryString的值，也可以处理post方式中 body data的值**，即`(@RequestParam("courseId")`可以处理:
``` html
<a href="{pageContext.request.contextPath }/requestparam?courseId=4"></a>
或
<form action="${pageContext.request.contextPath }/requestparam" method="post">
	<input type="text" name="courseId" >
	<input type="submit" value="提交" >
</form>
```

## @ModelAttribute
- 用于方法:
**用来在处理@RequestMapping之前，为请求绑定需要从后台查询的model**，例子如下:
``` java
@ModelAttribute("countryList")
public Map<String, String> getCountryList()
{
  Map<String, String> countryList = new HashMap<String, String>();
  countryList.put("US", "United States");
  countryList.put("CH", "China");
  countryList.put("SG", "Singapore");
  countryList.put("MY", "Malaysia");
  return countryList;
}
```
前台可以直接获取map里的值:
``` html
<form:select path="country">
	<form:option value="NONE" label="请选择..." />
	<form:options items="${countryList}" />
</form:select></td>
```
- 同于参数：
和`@RequestParam`类似，不过比这个更方便，不仅可以获取参数，还可封装到对象中:
`前台:`
``` html
<form:form method="POST"
		action="${pageContext.request.contextPath }/addUser">
		<table>
			<tr>
				<td><label>密码：</label></td>
				<td><form:password path="password" /></td>
			</tr>
			<tr>
				<td><label>地址：</label></td>
				<td><form:textarea path="address" rows="5" cols="30" /></td>
			</tr>
		</table>
</form:form>
```
后台获取：
``` java
@RequestMapping(value="/addUser",method=RequestMethod.POST)
	public String addUser(@ModelAttribute Student student,ModelMap model){
		//do something....
		return "userlist";
	}
```
## @RequestBody
该注解用于**读取Request请求的body部分数据，使用系统默认配置的HttpMessageConverter进行解析，然后把相应的数据绑定到要返回的对象上 ，再把HttpMessageConverter返回的对象数据绑定到 controller中方法的参数上****
该注解常用来处理Content-Type: **不是application/x-www-form-urlencoded编码的内容，例如application/json, application/xml等；**
> 例如用异步处理：

- 后台
``` java
@RequestMapping(value="/ajax",method=RequestMethod.POST)
@ResponseBody
public Course ajax(@RequestBody Course course){
	return course;
}
```
- 前台
``` js
function ajax() {
		$.ajax({
			url:" hello/ajax",
			data:JSON.stringify({'id':2,'cname':'语文','teacher':'djh'}),
			type:'post',
			contentType:"application/json",  
			success: function(data){
				alert(data);
			}
		})
	}
```
> `注意：`<font color='red'>**这里data必须为字符串，否则会报Unrecognized token 'xxx': was expecting ('true', 'false' or 'null')**</font>

## @ResponseBody
该注解用于将Controller的方法返回的对象，**通过适当的HttpMessageConverter转换为指定格式后，写入到Response对象的body数据区。**

> 