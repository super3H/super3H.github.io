---
title: hibernate中openSession()跟getCurrentSession()的区别
---

# openSession()与getCurrentSession()
1. 采用`getCurrentSession()`创建的Session会绑定到当前的线程中去、而采用`OpenSession()`则不会。
2. 采用`getCurrentSession()`创建的Session在commit或rollback后会自动关闭，采用`OpenSession()`必须手动关闭。
3. 采用`getCurrentSession()`需要在`Hibernate.cfg.xml`配置文件中加入如下配置：

> 如果是本地事物，及JDBC一个数据库：`<propety name=”Hibernate.current_session_context_class”>thread</propety>`
> 如果是全局事物，及jta事物、多个数据库资源或事物资源：`<propety name=”Hibernate.current_session_context_class”>jta</propety>`
> 使用spring的getHiberanteTemplate 就不需要考虑事务管理和session关闭的问题：