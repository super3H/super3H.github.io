---
title: SQLAlchemy
---
# 连接数据库
首先需要导入 ` sqlalchemy `库，然后建立数据库连接，这里使用 ` mysql` 通过` create_engine `方法进行.
``` python
from sqlalchemy import create_engine
engine = create_engine("mysql://root:@localhost:3306/webpy?charset=utf8",encoding="utf-8", echo=True)
```
`create_engine `方法进行数据库连接，返回一个 db 对象。里面的参数表示

> 数据库类型://用户名:密码（没有密码则为空，不填）@数据库主机地址/数据库名?编码
> echo = True 是为了方便 控制台 logging 输出一些sql信息，默认是False

通过这个`engine`对象可以直接`execute` 进行查询，例如` engine.execute("SELECT * FROM user") `也可以通过 `engine` 获取连接在查询，例如` conn = engine.connect() `通过` conn.execute()`方法进行查询。两者有什么差别呢？

- 直接使用`engine`的`execute`执行`sql`的方式, 叫做`connnectionless`执行,
- 借助 `engine.connect()`获取`conn`, 然后通过`conn`执行`sql`, 叫做`connection`执行主要差别在于是否使用`transaction`模式, 如果不涉及`transaction`, 两种方法效果是一样的. 官网推荐使用后者。

# 原文链接
[点此](http://www.jianshu.com/p/e6bba189fcbd)

