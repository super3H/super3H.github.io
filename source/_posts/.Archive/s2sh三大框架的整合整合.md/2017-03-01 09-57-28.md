---
title: s2sh三大框架的整合整合
categories: s2sh
---
# 前言
> 断断续续的学完了三大框架，自己也想尝试整合三大框架，这里记录我碰到的问题，以及学习的过程。

# 问题
# struts有关错误
> 使用`modelDriven`遇到的错误,报错如下：

``` java
ERROR ParametersInterceptor Developer Notification (set struts.devMode to false to disable this message):
Unexpected Exception caught setting 'age' on 'class test.hhh.action.PersonAction: Error setting expression 'age' with value '20'
ERROR ParametersInterceptor Developer Notification (set struts.devMode to false to disable this message):
Unexpected Exception caught setting 'name' on 'class test.hhh.action.PersonAction: Error setting expression 'name' with value 'hhh'
```
> 原因如下:

``` java
//action中如下写
private Person model;
//由于model对象还没new，其内部为空，所以导致获取的model为null，改法如下
private Person model = new Person();
```

# hibernate有关错误
- 错误如下
``` java
Already value [org.springframework.orm.hibernate5.SessionHolder@43826ec] for key [org.hibernate.internal.SessionFactoryImpl@304a3655] bound to thread [main]
```
- 解决方案:<font color='#FF0000'>由于spring配置</font>
``` xml
<!--由于
<bean id="sessionFactory" class="org.springframework.orm.hibernate5.LocalSessionFactoryBean">
		<property name="dataSource" ref="dataSource"></property>
		<property name="configLocation">
			<value>classpath:hibernate.cfg.xml</value>
		</property>
	</bean>
	
	<bean id="personDao" class="test.hhh.dao.Impl.PersonDaoImpl" >
		<property name="factory" ref="sessionFactory"></property>
	</bean>
	
	<tx:annotation-driven transaction-manager="transactionManager"/>
	<bean id="transactionManager" class="org.springframework.orm.hibernate5.HibernateTransactionManager">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
```