---
title: Python-sqlite3 学习
---

# 安装与使用
##导入Python SQLITE数据库模块
``` python
import sqlite3
```

## 创建/打开数据库 
> 在调用connect函数的时候，指定库名称，如果指定的数据库存在就直接打开这个数据库，如果不存在就新创建一个再打开。
``` python
cx = sqlite3.connect("E:/test.db")
```
> 也可以创建数据库在内存中。
``` python
con = sqlite3.connect(":memory:")
```
## 数据库连接对象
> 打开数据库时返回的对象cx就是一个数据库连接对象，它可以有以下操作：
1. commit()--事务提交 
2. rollback()--事务回滚
3. close()--关闭一个数据库连接
4. cursor()--创建一个游标 
> 关于commit()，如果isolation_level隔离级别默认，那么每次对数据库的操作，都需要使用该命令，你也可以设置isolation_level=None，这样就变为自动提交模式。

## ROW
> 官方解释
> A Row instance serves as a highly optimized row_factory for Connection objects. It tries to mimic a tuple in most of its features.
> It supports mapping access by column name and index, iteration, representation, equality testing and len().
> If two Row objects have exactly the same columns and their members are equal, they compare equal.
> keys()
> This method returns a list of column names. Immediately after a query, it is the first member of each tuple in Cursor.description.
> Changed in version 3.5: Added support of slicing.
> Let’s assume we initialize a table as in the example given above:
``` python
>>> conn.row_factory = sqlite3.Row
>>> c = conn.cursor()
>>> c.execute('select * from stocks')
<sqlite3.Cursor object at 0x7f4e7dd8fa80>
>>> r = c.fetchone()
>>> type(r)
<class 'sqlite3.Row'>
>>> tuple(r)
('2006-01-05', 'BUY', 'RHAT', 100.0, 35.14)
>>> len(r)
5
>>> r[2]
'RHAT'
>>> r.keys()
['date', 'trans', 'symbol', 'qty', 'price']
>>> r['qty']
100.0
>>> for member in r:
...     print(member)
...
2006-01-05
BUY
RHAT
100.0
35.14
```

## 更多内容
[请参考:一块努力的牛皮糖](http://www.cnblogs.com/yuxc/archive/2011/08/18/2143606.html)